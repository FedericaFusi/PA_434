---
title: "Shiny App"
runtime: shiny
output: html_document
---
```{r r-system, out.width='20%', echo=F, fig.align="center" }
knitr::include_graphics( "FIGURE/shiny.png" )
```

<br>
<div class="alert alert-info">
This content was based on Dr. Jesse Lecy's shiny widget (Source: ["Intro to data science"](https://ds4ps.org/course_website/assignments/#labs))
</div>
<br>

**Shiny apps** allow you to create [interactive content](https://shiny.rstudio.com/gallery/). 

Shiny apps have two parts: a user interface (page layouts and input functions), and a set of rendering functions that translate R graphics into HTML and javascript elements to create interactive web pages.

* `inputPanel` or `sidebarPanel` creates a panel for the widgets
* `input` functions allow users to specify inputs
* `renderPlot` converts to HTML / javascript

When using Shiny, a global object called "input" will be created, and it stores the input values the user defines in slots created through the `inputId` arguments. For example, below we use "animal" for the `inputID`, so the input values are referenced at `input$animal`.


```{r}

# We design a simple input command called "animal". The choices are cat, dog, and rat. The default one is dog.

selectInput( 
             inputId='animal', 
             label='Select Animal', 
             choices=c("cat","dog","rat"),
             selected="dog"
           )

# Then we create a plot. 

renderPlot({
    
    #Plot size and appearance
    plot.new()
    plot.window( xlim=c(0,10), ylim=c(0,10) )
    box()
    
    #The output will be a text, whose label is the animal chosen above
    text( 5, 5, label=input$animal, cex=4 ) 
    
    #Title 
    title( main="My Favorite Animal Is A:", line=-2 )

})

```

Add a panel for the widget.

```{r}

# We can have multiple inputs

inputPanel(
 
     selectInput( inputId='animal.02', 
                  label='Select Animal', 
                  choices=c("cat","dog","rat"),
                  selected="dog"
                ),
     
     selectInput( inputId='color', 
                  label='Select Color', 
                  choices=c("steelblue","darkred","orange"),
                  selected="orange"
                ),

     selectInput( inputId='size', 
                  label='Select Size', 
                  choices=c(1,2,3,4,5,6,7,8,9),
                  selected=4
                )  
     
) # end inputPanel



renderPlot({

    plot.new()
    plot.window( xlim=c(0,10), ylim=c(0,10) )
    box()
    
    # global object "input" stores all values in slots using their inputId's above
    # inputId='animal.02'
    # inputId='color'
    # inputId='size'
    text( 5, 5, label=input$animal.02, cex=as.numeric(input$size), col=input$color )  
    
    title( main="My Favorite Animal Is A:", line=-2 )

})

```
 
Use the argument `echo=F` in your chunk header to hide the code when you render the widget in a markdown document.  
```{r, echo=F}

inputPanel(
 
     selectInput( inputId='animal.03', 
                  label='Select Animal', 
                  choices=c("cat","dog","rat"),
                  selected="dog"
                ),
     
     selectInput( inputId='color.3', 
                  label='Select Color', 
                  choices=c("steelblue","darkred","orange"),
                  selected="orange"
                ),

     selectInput( inputId='size.3', 
                  label='Select Size', 
                  choices=c(1,2,3,4,5,6,7,8,9),
                  selected=4
                )  
     
) # end inputPanel



renderPlot({

    plot.new()
    plot.window( xlim=c(0,10), ylim=c(0,10) )
    box()
    
    # global object "input" stores all values in slots using their inputId's above
    # inputId='animal.02'
    # inputId='color'
    # inputId='size'
    text( 5, 5, label=input$animal.03, cex=as.numeric(input$size.3), col=input$color.3 )  
    
    title( main="My Favorite Animal Is A:", line=-2 )

})


```
     
```{css, echo=F}

.powered-by-datacamp {
  display: none !important;
}

.datacamp-exercise {
  margin: 0 0 1em 0 !important;
}

p {
color: black;
margin: 0 0 20px 0;
}

p.caption {
    text-align: center;
    font-style: italic;
}

td {
    padding: 3px 10px 3px 10px;
    }

table
{ 
    margin-left: auto;
    margin-right: auto;
    margin-top:20px;
    margin-bottom:20px;
}

h1, h2{
  margin-top:100px;
  margin-bottom:20px;
}

H5{
    text-align: center;
    color: gray;
    font-size:0.8em;
}

img {
    max-width: 90%;
    display: block;
    margin-right: auto;
    margin-left: auto;
    margin-top:30px;
    margin-bottom:20px;
}

pre {
  overflow-x: auto;
}

pre code {
   display: block; 
   padding: 0.5em;
   margin-bottom:20px;
}

code {
  font-size: 92%;
  border: 10px solid #F8F8F8;
  margin-bottom: 2px;
}

code[class] {
  background-color: #F8F8F8;
}

```

 