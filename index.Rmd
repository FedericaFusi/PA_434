---
title: "Introduction to R"
---

Youâ€™re about to start an adventure to learn R and statistics. 

# What is R?

R is a free open source statistical software: You can freely download R on your computer and use any of the packages that are developed by other people around the world.

Because it's free and open source, R:

- has more packages and functionalities than traditional statistical software: you can use R to perform basic operations that you would do in Excel but also to create websites (like this one!), Word documents, data visualizations, and so on. R is a very flexible programming language. 
- is very much requested by employers 
- is a community: several resources online for free

But:

- Some initial learning costs-programming can be difficult and computers are stupid. Basic errors can take hours to be solved, it doesn't matter how expert you are (ask me how many hours it took to get this website online!)
- Requires a bit more patience and perseverance than learning traditional softwares such as Excel or Word. 

If you are not convinced yet:

You might not have heard, but [NERD IS THE NEW BLACK](https://www.wsj.com/articles/SB10001424127887323478304578332850293360468), data science is the [SEXIEST JOB OF THE 21ST CENTURY](https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century), and there is [NOTHING HOTTER](https://blog.revolutionanalytics.com/2015/01/r-is-still-hot-and-getting-hotter.html) than learning R.

# Working in R

To facilitate this introduction and avoid installing R on your computer, we will use an interactive version of R provided by [DataCamp](https://www.datacamp.com/). Interactive windows (1) allows to have part of the code already written down, which is convenient for this introduction and (2) do not require you to install R on your computer. The same codes that we'll learn today can be used on a standalone R application such as [RStudio](https://www.rstudio.com/). 

Below you can see an example of an interactive R window. On the left side of the window (under the tab titled *script.R*) is where you will write code to be executed. To run code you have written, click the yellow *Run* button and observe how the right side of the window gets filled with information. A copy of your code will show up in black, and if no errors were made the answer will be returned right below in brown text. Error messages are red and begin with *Error:*. 

If you want to install R on your computer in the future, you can find some good instruction [here](https://datavizf18.classes.andrewheiss.com/install/). 

## Intro to R

```{r echo=T, results='hide'}
install.packages("gapminder", repos="https://cran.cnr.berkeley.edu")
library("gapminder")

install.packages("ggplot2", repos="https://cran.cnr.berkeley.edu")
library("ggplot2")

install.packages("gganimate", repos="https://cran.cnr.berkeley.edu")
library("gganimate")
```


R is built as a simple calculator. You can perform basic artimethic operations as shown below (click on the yellow Run button).

```{r, eval=F}
install.packages("plotly", repos="https://cran.cnr.berkeley.edu")
library("plotly")
```

```{r, include=FALSE}
tutorial::go_interactive(height = 160)
```

```{r}
2+3

2*3

6 / 3

3 - 2
```
<br>
The advantage of R is that you can save multiple information into "objects" and use them to perform operations. "Objects" are just repository of information - numbers, text, images.. 


```{r, include=FALSE}
tutorial::go_interactive(height = 160)
```

```{r}

object1 <- 2

object2 <- 3

object1 + object2

```
<br>takes
Objects are particularly useful to store multiple information at the same time. For instance, let's create two objects. The first object will store the names of 5 of you. The second will store information on how long it takes to these students to get to UIC. 

```{r, include=FALSE}
tutorial::go_interactive(height = 160)
```

```{r}

# c is used to "combine" together multiple information. Each piece of information is separated by a comma
# "" are used to identify text information vs numeric information

students <- c()
commuting_time <- c()

# We can retrieve the content of the objects 
students
commuting_time

# Or we can combine them in one "bigger" object
data <- cbind(students, commuting_time)

data

```

<br>
Objects can store as much information as we want - we are talking about millions of the data! 

To start, let's imagine we collect information across the overall class and we store them in two area objects like we just did. 

We can look at the object but also use some "functions" to obtain more information. "Functions" are not very different from Excel functions - they are pre-packed codes that extract information from an object. 

For instance, what is the average commuting time across all students? Which is the longest commuting time? And the shortest? 

```{r ex="mean", type="pre-exercise-code"}
students <- c("Sam", "David", "Annie", "Kate", "Mary")
commuting_time <- c(15, 6, 8, 9, 23)
data = as.data.frame(cbind(students, as.numeric(commuting_time)))
```


```{r ex="mean", type="sample-code"}

# c is used to "combine" together multiple information. Each piece of information is separated by a comma

data

mean(data$commuting_time)

median(data$commuting_time)

max(data$commuting_time)

min(data$commuting_time)

```
<br> 
We can also visualize data on a graph. In this case, a barplot will allow us to compare time across all students. 


```{r, include=FALSE}
tutorial::go_interactive(height = 160)
```

```{r ex="mean2", type="pre-exercise-code"}
students <- c("Sam", "David", "Annie", "Kate", "Mary")
commuting_time <- c(15, 6, 8, 9, 23)
data = as.data.frame(cbind(students, as.numeric(commuting_time)))
```
```

```{r ex="mean2", type="sample-code"}

barplot(commuting_time)

```
<br>
We can customized graphs. R is really powerful in creating graphs - we can change colors, style, titles, labels... pretty much anything. 

Let's look at some command to change title, labels, and colors. Feel free to customize the graph as you like. 


```{r ex="mean2", type="pre-exercise-code"}
set.seed(12)
commuting_time <- rnorm(20,15,7)
```

```{r ex="mean2", type="sample-code"}

# c is used to "combine" together multiple information. Each piece of information is separated by a comma

barplot(commuting_time, 
        main = "Commuting Time",  #Title of the graph
        xlab = "Students",        #Label of the x axis
        ylab = "Average time",    #Label of the y axis
        col = "darkblue",         #Color of the bars
        border = "white")         #Color of the border of the bars

```
<br>
We can also add a line to show how many students have a longer than average commuting time. 

```{r, include=FALSE}
tutorial::go_interactive(height = 400)
```

```{r ex="mean3", type="pre-exercise-code"}
set.seed(12)
commuting_time <- rnorm(20,15,7)
```

```{r ex="mean3", type="sample-code"}

barplot(commuting_time, 
        main = "Commuting Time", 
        xlab = "Students", 
        ylab = "Average time", 
        col = "darkblue", 
        border = "white")

abline(h = mean(commuting_time), 
       col = "darkred")
```

```{r, include=FALSE}
tutorial::go_interactive(height = 400)
```

```{r}

library(gapminder)

ggplot(gapminder, aes(year, lifeExp, colour = country)) +
  geom_point(alpha = 0.7, show.legend = FALSE) +
  scale_colour_manual(values = country_colors) +
  scale_size(range = c(2, 12)) +
  scale_x_log10() +
  facet_wrap(~continent)
 
```



So far we have used core functions that are available in R. But R allows you to explore a great variety of "packages". Packages are a set of functions designed by an individual to perform specific tasks. You can see a list of cool packages [here](https://awesome-r.com/). 

We'll see how to use [plotly](https://plot.ly/r/) which is a package to create interactive graphs. 

```{r ex="mean3", type="pre-exercise-code"}
set.seed(12)
commuting_time <- rnorm(20,15,7)
```

```{r ex="mean3", type="sample-code"}

library(plotly)

p <- plot_ly(
  commuting_time,
  name = "Commuting time to UIC",
  type = "bar"
)
```


```{css, echo=F}

.powered-by-datacamp {
  display: none !important;
}

.datacamp-exercise {
  margin: 0 0 1em 0 !important;
}

p {
color: black;
margin: 0 0 20px 0;
}

p.caption {
    text-align: center;
    font-style: italic;
}

td {
    padding: 3px 10px 3px 10px;
    }

table
{ 
    margin-left: auto;
    margin-right: auto;
    margin-top:80px;
    margin-bottom:100px;
}

h1, h2{
  margin-top:100px;
  margin-bottom:20px;
}

H5{
    text-align: center;
    color: gray;
    font-size:0.8em;
}

img {
    max-width: 90%;
    display: block;
    margin-right: auto;
    margin-left: auto;
    margin-top:30px;
    margin-bottom:20px;
}

pre {
  overflow-x: auto;
}

pre code {
   display: block; 
   padding: 0.5em;
   margin-bottom:20px;
}

code {
  font-size: 92%;
  border: 10px solid #F8F8F8;
  margin-bottom: 2px;
}

code[class] {
  background-color: #F8F8F8;
}

```
